{"remainingRequest":"/Users/user/Documents/TestProject/Frontend/node_modules/babel-loader/lib/index.js!/Users/user/Documents/TestProject/Frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/user/Documents/TestProject/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Documents/TestProject/Frontend/src/views/SupplierHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Documents/TestProject/Frontend/src/views/SupplierHome.vue","mtime":1647724083219},{"path":"/Users/user/Documents/TestProject/Frontend/babel.config.js","mtime":1647724083201},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/user/Documents/TestProject/Frontend/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport MultiLineChart from '@/components/charts/budget/MultiLineChart';\nimport DoughnutChart from '@/components/charts/budget/DoughnutChart';\nimport supplier_portal from '@/services/supplier_portal';\nexport default {\n  name: 'home',\n  data: function data() {\n    return {\n      dates: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      values: [600, 1150, 342, 6050, 2522, 3241, 1259, 157, 1545, 9841],\n      lineChartDataPO: [],\n      lineChartDataInvoice: [],\n      stepSize: 2000,\n      pieChartData: [],\n      dashboard: {},\n      showPieChart: false\n    };\n  },\n  components: {\n    MultiLineChart: MultiLineChart,\n    DoughnutChart: DoughnutChart\n  },\n  mounted: function mounted() {\n    this.getDashboard();\n  },\n  methods: {\n    getDashboard: function () {\n      var _getDashboard = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var response, monthly_earnings, maxSpend1;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return supplier_portal.dashboard();\n\n              case 3:\n                response = _context.sent;\n                this.dashboard = response.data;\n                this.pieChartData.push(this.dashboard.ordered);\n                this.pieChartData.push(this.dashboard.delivered);\n                this.pieChartData.push(this.dashboard.invoiced);\n                this.showPieChart = !this.showPieChart;\n                monthly_earnings = this.dashboard.monthly_earnings;\n                this.lineChartDataPO = monthly_earnings.map(function (a) {\n                  return a.po;\n                });\n                this.lineChartDataInvoice = monthly_earnings.map(function (a) {\n                  return a.invoice;\n                });\n                maxSpend1 = Math.max.apply(Math, monthly_earnings.map(function (o) {\n                  return o.po;\n                }));\n                this.stepSize = Math.ceil(maxSpend1 / 8 / 100) * 100;\n                _context.next = 19;\n                break;\n\n              case 16:\n                _context.prev = 16;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 16]]);\n      }));\n\n      function getDashboard() {\n        return _getDashboard.apply(this, arguments);\n      }\n\n      return getDashboard;\n    }()\n  }\n};",{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACAA,cADA;AAEAC,MAFA,kBAEA;AACA;AACAC,iGADA;AAEAC,uEAFA;AAGAC,yBAHA;AAIAC,8BAJA;AAKAC,oBALA;AAMAC,sBANA;AAOAC,mBAPA;AAQAC;AARA;AAUA,GAbA;AAcAC;AACAC,kCADA;AAEAC;AAFA,GAdA;AAkBAC,SAlBA,qBAkBA;AACA;AACA,GApBA;AAqBAC;AACAC,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGAC,2BAHA;;AAAA;AAGAC,wBAHA;AAIA;AACA;AACA;AACA;AACA;AAEAC,gCAVA,GAUA,+BAVA;AAWA;AAAA;AAAA;AACA;AAAA;AAAA;AACAC,yBAbA,GAaAC;AAAA;AAAA,mBAbA;AAcA;AAdA;AAAA;;AAAA;AAAA;AAAA;AAgBAC;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AArBA","names":["name","data","dates","values","lineChartDataPO","lineChartDataInvoice","stepSize","pieChartData","dashboard","showPieChart","components","MultiLineChart","DoughnutChart","mounted","methods","getDashboard","supplier_portal","response","monthly_earnings","maxSpend1","Math","console"],"sourceRoot":"src/views","sources":["SupplierHome.vue"],"sourcesContent":["<template>\n  <div class=\"home page-container\">\n    <div class=\"page\">\n      <h4 class=\"page__title\">Dashboard</h4>\n\n        {{dashboard.monthly_earning}}\n      <div class=\"page__content\">\n        <div class=\"main\">\n          <div class=\"statistics\">\n            <div class=\"statistics__item unique\">\n              <doughnut-chart :width=\"100\" :values=\"pieChartData\" :height=\"100\" :key=\"showPieChart\"></doughnut-chart>\n              <ul class=\"chart-labels\">\n                <li class=\"chart-label\"><font-awesome-icon class=\"color-icon total\" icon=\"circle\" /> Ordered - {{dashboard.ordered  | toCurrency('Ksh')}}</li>\n                <li class=\"chart-label\"><font-awesome-icon class=\"color-icon spent\" icon=\"circle\" /> Delivered - {{dashboard.delivered  | toCurrency('Ksh')}}</li>\n                <li class=\"chart-label\"><font-awesome-icon class=\"color-icon balance\" icon=\"circle\" /> Invoiced - {{dashboard.invoiced  | toCurrency('Ksh')}}</li>\n              </ul>\n            </div>\n            <div class=\"statistics__item info\">\n              <p class=\"desc\">{{dashboard.total_purchase_orders}}</p>\n              <p class=\"title\">Purchase Orders</p>\n              <ul class=\"list\">\n                <li class=\"list__item\">Delivered - {{dashboard.total_purchase_orders_delivered}}</li>\n                <li class=\"list__item\">Pending - {{dashboard.total_purchase_orders_pending}}</li>\n              </ul>\n            </div>\n            <div class=\"statistics__item info\">\n              <p class=\"desc\">{{dashboard.total_invoices}}</p>\n              <p class=\"title\">Invoices</p>\n              <ul class=\"list\">\n                <li class=\"list__item\">Approved - {{dashboard.total_invoices_approved}}</li>\n                <li class=\"list__item\">Pending - {{dashboard.total_invoices_pending}}</li>\n              </ul>\n            </div>\n          </div>\n          <div class=\"spend-line-graph\">\n            <p class=\"tab-title\">Monthly PO's and Invoices</p>\n            <multi-line-chart v-if=\"lineChartDataPO.length > 0\" :height=\"300\" :valuesA=\"lineChartDataPO\" labelA=\"PO\" :valuesB=\"lineChartDataInvoice\" labelB=\"Invoice\" stepSize=\"20\" :dates=\"dates\"></multi-line-chart>\n          </div>\n        </div>\n        <div class=\"side\">\n          <div class=\"side__item spend-pie-chart\">\n            <p class=\"title\">Pending Actions</p>\n            <ul class=\"list\">\n              <li class=\"list__item\"><font-awesome-icon class=\"icon\" icon=\"circle\" />Update invoice <span class=\"link\">#I001</span></li>\n              <li class=\"list__item\"><font-awesome-icon class=\"icon\" icon=\"circle\" />Acknowledge PO <span class=\"link\">#P0012</span></li>\n            </ul>\n          </div>\n          <div class=\"side__item approval-requests\">\n            <p class=\"title\">Recent Activity</p>\n            <ul class=\"list\">\n              <li class=\"list__item\"><font-awesome-icon class=\"icon\" icon=\"circle\" />Invoice approved <span class=\"link\">#I001</span></li>\n              <li class=\"list__item\"><font-awesome-icon class=\"icon\" icon=\"circle\" />PO acknowledged <span class=\"link\">#P001</span></li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport MultiLineChart from '@/components/charts/budget/MultiLineChart'\nimport DoughnutChart from '@/components/charts/budget/DoughnutChart'\nimport supplier_portal from '@/services/supplier_portal'\nexport default {\n  name: 'home',\n  data () {\n    return {\n      dates: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      values: [600,\t1150,\t342,\t6050,\t2522,\t3241,\t1259,\t157,\t1545, 9841,],\n      lineChartDataPO: [],\n      lineChartDataInvoice: [],\n      stepSize: 2000,\n      pieChartData: [],\n      dashboard: {},\n      showPieChart: false\n    }\n  },\n  components: {\n    MultiLineChart,\n    DoughnutChart\n  },\n  mounted() {\n    this.getDashboard()\n  },\n  methods: {\n    async getDashboard() {\n      try {\n        const response = await supplier_portal.dashboard()\n        this.dashboard = response.data\n        this.pieChartData.push(this.dashboard.ordered)\n        this.pieChartData.push(this.dashboard.delivered)\n        this.pieChartData.push(this.dashboard.invoiced)\n        this.showPieChart = !this.showPieChart\n\n        let monthly_earnings = this.dashboard.monthly_earnings\n        this.lineChartDataPO = monthly_earnings.map(a => a.po)\n        this.lineChartDataInvoice = monthly_earnings.map(a => a.invoice)\n        let maxSpend1 = Math.max.apply(Math, monthly_earnings.map(function(o) { return o.po; }))\n        this.stepSize = Math.ceil((maxSpend1/8)/100)*100\n      } catch (err) {\n        console.log(err)\n      }\n    },\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.page {\n  width: 100%;\n\n  &__content {\n    @include grid_row;\n    align-items: flex-start;\n    padding: $line-height/1.5 0;\n  }\n\n  .main {\n    width: 78%;\n    height: auto;\n    padding: 0;\n  }\n\n  .side {\n    width: 20%;\n    height: auto;\n  }\n}\n\n.main {\n  .statistics {\n    width: 100%;\n    @include grid_row;\n    padding: 0 2%;\n\n    &__item {\n      width: 30%;\n      height: 20vh;\n      // background-color: $color-white-milk;\n      // border-radius: $line-height/3;\n      @include shadow;\n      // border: 1px solid $color-white-milk;\n    }\n\n    .unique {\n      @include grid_row;\n      justify-content: center;\n      width: 40%;\n\n      .chart-labels {\n        margin-left: $line-height;\n\n        .chart-label {\n          font-size: $font-size-small;\n          padding: $line-height/6 0;\n          font-weight: 600;\n\n          .color-icon {\n            font-size: $line-height/3;\n          }\n\n          .total {\n            color: rgba(255,99,132,1);\n          }\n\n          .spent {\n            color: rgba(54, 162, 235, 1);\n          }\n\n          .balance {\n            color: rgba(255, 206, 86, 1);\n          }\n        }\n      }\n    }\n\n    .info {\n      @include grid_column;\n      justify-content: center;\n      align-items: center;\n      width: 25%;\n\n      .title {\n        font-weight: 600;\n        font-size: $font-size-text;\n        margin-bottom: $line-height/3;\n      }\n\n      .desc {\n        padding: $line-height/4 0;\n        font-weight: 600;\n        font-size: $line-height*0.8;\n        color: $color-green-main;\n      }\n\n      .list {\n        &__item {         \n          font-size: $font-size-small;\n          padding: $line-height/8 0;\n          color: $color-gray-medium;\n\n          &:first-child {\n            padding-top: 0;\n          }\n        }\n      }\n    }\n  }\n\n  .spend-line-graph {\n    width: 96%;\n    // background-color: $color-white-milk;\n    // border-radius: $line-height/3;\n    // @include shadow;\n    height: auto;\n    margin: $line-height 2%;\n    // border: 1px solid $color-white-milk;\n    padding: $line-height $line-height/3;\n  }\n}\n\n.side {\n  .spend-pie-chart {\n    width: 92%;\n    height: 30vh;\n    margin: 0 4%;\n    // border-radius: $line-height/3;\n    // border: 1px solid $color-white-milk;\n    background-color: $color-white-milk;\n    @include shadow;\n  }\n\n  .approval-requests {\n    width: 92%;\n    height: 40vh;\n    margin: $line-height 4%;\n    // border-radius: $line-height/3;\n    background-color: $color-blue-main;\n    @include shadow;\n  }\n\n  &__item {\n    padding: $line-height/2;\n\n    .title {\n      padding: $line-height/4 0;\n      font-weight: 600;\n      font-size: $font-size-small;\n    }\n\n    .list {\n      margin-top: $line-height/4;\n      &__item {\n        font-size: $font-size-small;\n        padding: $line-height/10 0;\n\n        .icon {\n          font-size: $font-size-small;\n          padding: 0 $line-height/6;\n        }\n\n        .link {\n          color: $color-blue-light;\n          font-weight: 600;\n          cursor: pointer;\n        }\n      }\n    }\n  }\n\n  .spend-pie-chart {\n    .title {\n      color:$color-blue-main;\n    }    \n  }\n\n  .approval-requests {\n    .title {\n      color: $color-blue-light;\n    }\n\n    .list__item {\n      color: $color-white-milk;\n\n      .link {\n        color: $color-green-main;\n      }\n    }\n  }\n}\n\n.tab-title {\n  text-align: center;\n  margin: $line-height/2 0;\n  font-weight: 600;\n  font-size: $font-size-small;\n}\n</style>\n"]}]}