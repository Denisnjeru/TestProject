{"remainingRequest":"/Users/user/Documents/TestProject/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Documents/TestProject/Frontend/src/views/users/Profile.vue?vue&type=style&index=0&id=81b94850&lang=scss&scoped=true&","dependencies":[{"path":"/Users/user/Documents/TestProject/Frontend/src/views/users/Profile.vue","mtime":1657310330595},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Documents/TestProject/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.profile-pic {\n    height: $line-height*2.5;\n    width: $line-height*2.5;\n    margin: 0 $line-height/4;\n    border-radius: 50%;\n    border: 2px solid $color-blue-main;\n    margin-top: $line-height;\n}\n",{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/views/users","sourcesContent":["<template>\n  <div class=\"home page-container\">\n    <div class=\"page\">\n      <h4 class=\"page__title\">User Profile</h4>\n      <p class=\"page__desc\">View user profile</p>\n      <div class=\"page__content\">    \n        <span v-if=\"profile\">\n        <br>\n        <div class=\"tab-shortcuts\" v-if=\"profile.user.username === authUser.username\">\n            <span class=\"tab-shortcuts__item\" @click=\"updatePassword()\">Update Password</span>\n        </div>\n\n        <img v-if=\"profile.profile_pic\" class=\"profile-pic\" :src=\"profile.profile_pic\" alt=\"profile pic\">\n        <img v-else class=\"profile-pic\" src=\"@/assets/user.png\" alt=\"profile pic\">\n        <p class=\"page__content--sub-title\">Personal Information</p>\n        <div class=\"page__content--row row-2\">\n            <p class=\"element\">\n                <span class=\"element__title\">First Name: </span>\n                <span class=\"element__content\">{{profile.user.first_name}}</span>\n            </p>\n            <p class=\"element\">\n                <span class=\"element__title\">Last Name: </span>\n                <span class=\"element__content\">{{profile.user.last_name}}</span>\n            </p>\n        </div>\n        <p class=\"page__content--sub-title\">Contact Information</p>\n        <div class=\"page__content--row\">\n            <p class=\"element\">\n                <span class=\"element__title\">Phone: </span>\n                <span class=\"element__content\">{{profile.phone_no}}</span>\n            </p>\n        </div>\n        <div class=\"page__content--row\">\n            <p class=\"element\">\n                <span class=\"element__title\">Email: </span>\n                <span class=\"element__content\">{{profile.user.username}}</span>\n            </p>\n        </div>\n        <p class=\"page__content--sub-title\">Privileges</p>\n        <div class=\"page__content--row\">\n            <p class=\"element\">\n                <span class=\"element__title\">Role: </span>\n                <span class=\"element__content\">{{profile.company_user.company_role.name}}</span>\n            </p>\n        </div>\n        <p class=\"page__content--sub-title\">Activity</p>\n        <div class=\"page__content--row row-2\">\n            <p class=\"element\">\n                <span class=\"element__title\">Created: </span>\n                <span class=\"element__content\">{{profile.company_user.user.date_joined  | formatDate}}</span>\n            </p>\n            <p class=\"element\">\n                <span class=\"element__title\">Last Login: </span>\n                <span class=\"element__content\">{{profile.company_user.user.last_login  | formatDate}}</span>\n            </p>\n        </div>\n        <div class=\"page__content--row buttons\">\n            <router-link :to=\"'/profile/update/' + profileId\">\n              <button class=\"buttons__button\">Update</button>\n            </router-link>\n            <!-- <button class=\"buttons__button delete\">Delete</button> -->\n        </div>\n        </span> \n      </div>\n    </div>\n    <div class=\"page-side\">\n      <UserActions />\n    </div>\n  </div>\n</template>\n\n<script>\nimport UserActions from '@/components/actions/User.vue'\nimport user from '@/services/user'\nimport { mapGetters } from 'vuex'\nexport default {\n  name: 'home',\n  data () {\n    return {\n      profile: null,\n      profileId: null\n    }\n  },\n  components: {\n    UserActions\n  },\n  mounted() {\n    this.getProfile()\n  },\n  computed: {\n      ...mapGetters('Auth',['authUser']),\n  },\n  methods: {\n    async getProfile() {\n      try {\n          this.profileId = this.$route.params.id\n        const response = await user.userProfile(this.$route.params.id)\n        this.profile = response.data\n        console.log(this.profile)\n      } catch (err) {\n        console.log(err)\n      }\n    },\n    async updatePassword() {\n      let payload = {\n        \"email\": this.profile.user.username\n      }\n      try {\n          await auth.resetPassword(payload)\n          this.$swal({\n          icon: 'success',\n          text: 'Reset password email has been sent to your email.',\n          showConfirmButton: false,\n          });\n      } catch (err) {\n          let error = Object.entries(err.response.data)\n          this.$swal({\n          icon: 'error',\n          title: 'Oops...',\n          text: error,\n          showConfirmButton: false,\n          });\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.profile-pic {\n    height: $line-height*2.5;\n    width: $line-height*2.5;\n    margin: 0 $line-height/4;\n    border-radius: 50%;\n    border: 2px solid $color-blue-main;\n    margin-top: $line-height;\n}\n</style>"]}]}